<!DOCTYPE html>
<!--html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"-->
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="description" content="VRMath2 is an online learning community for all to design, create, and share online 3D virtual worlds.">
  <meta name="keywords" content="WebGL,Web3D,X3DOM,LOGO,Programming,STEM,Microworld,X3D,Mobile,Sensor,Free,3D,Education,Science,Technology,Engineering,Mathematics,Online Community,School,Primary,Secondary,Tertiary,Design,Create,Share,Teaching,Learning,Constructionism,Semiotics">
  <title>x3dom viewer</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.css">
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/codemirror.min.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/mode/xml/xml.min.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/edit/matchbrackets.min.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/edit/matchtags.min.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/fold/xml-fold.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/search/searchcursor.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/search/search.js"> </script>
  <script type="text/javascript"  src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/dialog/dialog.js"> </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.8.0/addon/dialog/dialog.css" rel="stylesheet" type="text/css" />
  <link href="https://x3dom.org/download/dev/x3dom.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="https://x3dom.org/download/dev/x3dom-full.js"></script>
  <!--script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.js"></script-->
  <!--script type="text/javascript" src="https://rawgit.com/andreasplesch/x3dom/earclipping/src/util/EarClipping.js"></script-->
  <style>
    html, body { width:100%; height:100%; margin:0px; }
    X3DCanvas {
    width: 100%;
    height: 400px;
    }
    #x3domframe {
    width: 49%;
    height: 400px;
    position: absolute;
    }
    #cobwebframe {
    width: 49%;
    height: 400px;
    float: right;
    border-width: 1px;
    border-color: black;
    }
  </style>
</head>
<body>
  <form>
<button type='button' onclick='updatex3d();'>Update</button>
Copy and paste x3d here. Remove any initial white space. Use Ctrl-Shift-F to search and replace. 
<button type='button' onclick='expand();'>+</button><button type='button' onclick='shrink();'>-</button>
    <textarea name="x3dcontent" id='x3dcontent' rows="30" cols="120"></textarea>
  </form>
  <x3d id='x3domframe'>
      <scene>
        <inline namespacename="x3dembed" id="inline" contentType="model/x3d+xml"
            url="https://raw.githubusercontent.com/andreasplesch/Library/master/Examples/LogoPieces/index.x3d">
        </inline>
      </scene>
  </x3d>
  <iframe id='cobwebframe' src='cobwebframe.html'></iframe>
  <script>
    var editor = CodeMirror.fromTextArea(document.getElementById("x3dcontent"),
           {
              lineNumbers: true,
              mode: "xml",
              lineWrapping: true,
              matchBrackets: true,
              matchTags: {bothTags: true}
           });
    var height = 300;
    editor.setSize(null, height);
    function expand() {
      height += editor.defaultTextHeight();
      editor.setSize(null, height);
    }
    function shrink() {
      height -= editor.defaultTextHeight();
      editor.setSize(null, height);
    }
    /*
    $(editor.getWrapperElement()).resizable({
      resize: function() {editor.setSize($(this).width(), $(this).height());}
      });
    */
    function updatex3d() {
      editor.save();
      var content = editor.getDoc().getValue(); 
      var dataurl = "data:text/plain;base64," + btoa(content);
      var inline = document.getElementById("inline");
      inline.setAttribute("url", dataurl);
      var cobwebWindow = document.getElementById("cobwebframe").contentWindow ;
      var cobwebEle = cobwebWindow.document.getElementById("x3dele");
      var browser = cobwebWindow.X3D.getBrowser(cobwebEle);
      browser.replaceWorld(browser.createX3DFromString(content));
    }
  </script>
  </body>
</html>
